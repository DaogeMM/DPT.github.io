(()=>{"use strict";var e={215(e,t,a){var r=a(751),s=a(641),o=a(953),c=a(29);const l={__name:"App",setup(e){return(e,t)=>((0,s.uX)(),(0,s.Wv)((0,o.R1)(c.Tp)))}},n=l,i=n,u={class:"top-nav"},d={class:"nav-left"},v={class:"nav-right"},p={class:"page-container"},f={__name:"Layout",setup(e){const t=e=>{window.open(e,"_blank")};return(e,a)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",u,[(0,s.Lk)("div",d,[(0,s.Lk)("div",{class:"nav-item",onClick:a[0]||(a[0]=t=>e.$router.push({name:"start"}))}," 主页 "),(0,s.Lk)("div",{class:"nav-item",onClick:a[1]||(a[1]=t=>e.$router.push({name:"tableLevel"}))}," 定数表 "),(0,s.Lk)("div",{class:"nav-item",onClick:a[2]||(a[2]=t=>e.$router.push({name:"tableB30"}))}," B30表 ")]),(0,s.Lk)("div",v,[(0,s.Lk)("div",{class:"nav-right-text",onClick:a[3]||(a[3]=e=>t("https://space.bilibili.com/521730845"))},"个人主页"),(0,s.Lk)("div",{class:"nav-right-text",onClick:a[4]||(a[4]=e=>t("https://space.bilibili.com/414149787"))},"官方账号")])]),(0,s.Lk)("div",p,[(0,s.bF)((0,o.R1)(c.Tp))])],64))}};var h=a(262);const m=(0,h.A)(f,[["__scopeId","data-v-6d4e18e8"]]),g=m,y={class:"start-page"};function b(e,t){return(0,s.uX)(),(0,s.CE)("div",y,[...t[0]||(t[0]=[(0,s.Lk)("div",{class:"title-group"},[(0,s.Lk)("h1",{class:"page-title"},"DP-Tool"),(0,s.Lk)("p",{class:"page-subtitle"}," 您的 Phigros 助手 ")],-1)])])}const k={},_=(0,h.A)(k,[["render",b],["__scopeId","data-v-7f28ff8c"]]),L=_;var C=a(33);const I={class:"group-title"},E={__name:"levelGUI",props:{cardList:{type:Object,required:!0},columns:{type:Number,required:!0},gap:{type:Number,default:16},gridWidth:{type:[Number,String],default:1500}},setup(e){const t=e,a=(0,s.EW)(()=>({width:"number"===typeof t.gridWidth?`${t.gridWidth}px`:t.gridWidth,margin:"0 auto",boxSizing:"border-box"})),r=()=>({"--column-count":t.columns,"--gap-size":`${t.gap}px`,"--column-width":"calc((100% - (var(--column-count) - 1) * var(--gap-size)) / var(--column-count))"}),o=(0,s.EW)(()=>{const e=Object.entries(t.cardList),a=e.sort((e,t)=>{const a=Number(e[0]),r=Number(t[0]);return r-a});return a.map(([e,t])=>({key:e,value:t}))});return(e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:"card-container",style:(0,C.Tr)(a.value)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.value,({key:t,value:a},o)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"card-group"},[(0,s.Lk)("div",I,(0,C.v_)(Number(t).toFixed(1)),1),(0,s.Lk)("div",{class:"card-grid",style:(0,C.Tr)(r())},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a,(a,r)=>(0,s.RG)(e.$slots,"default",{key:r,cardData:a,index:r,groupKey:t})),128))],4)]))),128))],4))}},x=(0,h.A)(E,[["__scopeId","data-v-01ea6be3"]]),w=x,X={class:"chart-card"},A={class:"card-cover"},O=["src","alt"],$={class:"card-info"},N={__name:"levelCard",props:{chartInfo:{type:Array,required:!0}},setup(e){return(t,a)=>((0,s.uX)(),(0,s.CE)("div",X,[(0,s.Lk)("div",A,[(0,s.Lk)("img",{src:e.chartInfo[2],alt:e.chartInfo[0],class:"cover-img"},null,8,O)]),(0,s.Lk)("div",$,[(0,s.Lk)("div",{class:"difficulty-tag",style:(0,C.Tr)({backgroundColor:e.chartInfo[4]||"#cccccc"})},(0,C.v_)(e.chartInfo[3]),5)])]))}},F=(0,h.A)(N,[["__scopeId","data-v-6afeab2e"]]),B=F;var T=a(335);const j={name:"LevelGet",methods:{async getLevel(){const e="",t=`${e}/files`,a=`${t}/infos/infos.json`,r={EZ:"#0D9A28",HD:"#0175B8",IN:"#CF1313",AT:"#383838",SP:"#383838",LY:"#383838"},s=["EZ","HD","IN","AT"];try{const t=await T.A.get(a),o=t.data,c=[];for(const[e,a]of Object.entries(o))if(a.name&&a.display)for(const t of s)if(a[t]&&a[t].lvl&&""!==a[t].lvl.trim()){const r=parseFloat(a[t].lvl);isNaN(r)||c.push([e,r,t])}const l=`${e}/assets/illLow`;for(const e of c){e[1]=Math.round(10*e[1])/10;const t=e[2];e[2]=`${l}/${e[0]}.png`,e.push(t),e.push(r[t]||"#383838")}const n={};for(const e of c){const t=e[1];n[t]||(n[t]=[]),n[t].push(e)}const i={};for(const[e,a]of Object.entries(n)){const t=a.sort((e,t)=>e[0].localeCompare(t[0]));i[e]=t}return i}catch(o){return console.error("获取数据失败：",o),console.error("实际请求的JSON文件路径：",a),{}}}}},K=j,R=K,S={class:"table-container"},W={key:0,class:"empty-tip"},D={key:1,class:"empty-tip error"},P={key:2,class:"level-list"},G={key:3,class:"empty-tip"},q={__name:"tableLevel",setup(e){const t=(0,o.KR)(null),a=(0,o.KR)(!0),r=(0,o.KR)("");return(0,s.sV)(async()=>{try{const e=await R.methods.getLevel();t.value=e,r.value=""}catch(e){console.error("定数表加载失败：",e),r.value="定数表加载失败，请刷新重试"}finally{a.value=!1}}),(e,o)=>((0,s.uX)(),(0,s.CE)("div",S,[a.value?((0,s.uX)(),(0,s.CE)("div",W," 正在加载定数表 ")):r.value?((0,s.uX)(),(0,s.CE)("div",D,(0,C.v_)(r.value),1)):t.value?((0,s.uX)(),(0,s.CE)("div",P,[(0,s.bF)(w,{"card-list":t.value,columns:5,gap:20},{default:(0,s.k6)(({cardData:e})=>[(0,s.bF)(B,{"chart-info":e},null,8,["chart-info"])]),_:1},8,["card-list"])])):((0,s.uX)(),(0,s.CE)("div",G," 暂无定数表数据 "))]))}},z=(0,h.A)(q,[["__scopeId","data-v-51ee2834"]]),M=z,H={__name:"b30GUI",props:{cardList:{type:Array,required:!0},columns:{type:Number},gap:{type:Number},gridWidth:{type:[Number,String],default:1500}},setup(e){const t=e,a=(0,s.EW)(()=>({width:"number"===typeof t.gridWidth?`${t.gridWidth}px`:t.gridWidth,"--column-count":t.columns,"--gap-size":`${t.gap}px`,"--column-width":"calc((100% - (var(--column-count) - 1) * var(--gap-size)) / var(--column-count))"}));return(t,r)=>((0,s.uX)(),(0,s.CE)("div",{class:"card-grid",style:(0,C.Tr)(a.value)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.cardList,(e,a)=>(0,s.RG)(t.$slots,"default",{key:a,cardData:e,index:a})),128))],4))}},Z=(0,h.A)(H,[["__scopeId","data-v-46a25622"]]),J=Z,U={class:"top-right-text"},V={class:"card-cover"},Y=["src"],Q={class:"card-info"},ee={class:"chart-name"},te={__name:"b30Card",props:{chartInfo:{type:Array,required:!0}},setup(e){return(t,a)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,C.C4)(["chart-card",{"glow-border":e.chartInfo[7]}])},[(0,s.Lk)("div",U,(0,C.v_)(e.chartInfo[6]),1),(0,s.Lk)("div",V,[(0,s.Lk)("img",{src:e.chartInfo[2],class:"cover-img"},null,8,Y)]),(0,s.Lk)("div",Q,[(0,s.Lk)("h3",ee,(0,C.v_)(e.chartInfo[3]),1),(0,s.Lk)("div",{class:"difficulty-tag",style:(0,C.Tr)({backgroundColor:e.chartInfo[5]||"#cccccc"})},(0,C.v_)(e.chartInfo[4]+" Lv."+e.chartInfo[1]),5)]),a[0]||(a[0]=(0,s.Fv)('<div class="bottom-left-info" data-v-d1df2aee><img src="/assets/rank/Phi.png" class="info-icon" data-v-d1df2aee><div class="info-text-wrapper" data-v-d1df2aee><div class="main-text" data-v-d1df2aee> 1000000 </div><div class="sub-text" data-v-d1df2aee> 100.00% </div></div></div>',1))],2))}},ae=(0,h.A)(te,[["__scopeId","data-v-d1df2aee"]]),re=ae,se={name:"LevelGet",methods:{async getB30(){const e="",t=`${e}/files`,a=`${t}/infos/infos.json`,r={EZ:"#0D9A28",HD:"#0175B8",IN:"#CF1313",AT:"#383838"},s=["IN","AT"];try{const t=await T.A.get(a),o=t.data,c=[];for(const[e,a]of Object.entries(o))if(a.name&&a.display)for(const t of s)if(a[t]&&a[t].lvl&&""!==a[t].lvl.trim()){const r=parseFloat(a[t].lvl),s=a.name;isNaN(r)||c.push([e,r,t,s])}c.sort((e,t)=>t[1]-e[1]);for(const a of c){a[1]=Math.round(10*a[1])/10;const t=a[2];a[2]=`${e}/assets/illLow/${a[0]}.png`,a.push(t),a.push(r[t]||"#383838")}const l=c.slice(0,3).map(e=>[...e]);for(let e=0;e<c.length;e++){const t=e+1;t<=27&&(c[e].push(`[B${t}]`),c[e].push(!1))}for(let e=0;e<l.length;e++){const t=e+1;l[e].push(`[P${t}]`),l[e].push(!0)}const n=[...l,...c].slice(0,30),i=n.map(e=>e[1]),u=i.reduce((e,t)=>e+t,0)/30,d=u.toFixed(2),v=u.toFixed(8);return[n,[d,v]]}catch(o){return console.error("获取数据失败：",o),console.error("实际请求的JSON文件路径：",a),{}}}}},oe=se,ce=oe,le={class:"table-container"},ne={key:0,class:"empty-tip"},ie={key:1,class:"empty-tip error"},ue={key:2,class:"b30-list"},de={key:3,class:"empty-tip"},ve={class:"fixed-left-text"},pe={__name:"tableB30",setup(e){const t=(0,o.KR)(null),a=(0,o.KR)(!0),r=(0,o.KR)(""),c=(0,o.KR)([]);return(0,s.sV)(async()=>{try{const[e,a]=await ce.methods.getB30();t.value=e,c.value=a,r.value=""}catch(e){console.error("B30加载失败：",e),r.value="B30加载失败，请刷新重试"}finally{a.value=!1}}),(e,o)=>((0,s.uX)(),(0,s.CE)("div",le,[a.value?((0,s.uX)(),(0,s.CE)("div",ne," 正在加载B30 ")):r.value?((0,s.uX)(),(0,s.CE)("div",ie,(0,C.v_)(r.value),1)):t.value?((0,s.uX)(),(0,s.CE)("div",ue,[(0,s.bF)(J,{"card-list":t.value,columns:3,gap:20},{default:(0,s.k6)(({cardData:e})=>[(0,s.bF)(re,{"chart-info":e},null,8,["chart-info"])]),_:1},8,["card-list"])])):((0,s.uX)(),(0,s.CE)("div",de," 暂无B30表数据 ")),(0,s.Lk)("div",ve," RKS "+(0,C.v_)(c.value[0])+" ("+(0,C.v_)(c.value[1])+") ",1)]))}},fe=(0,h.A)(pe,[["__scopeId","data-v-ca18a20e"]]),he=fe,me=[{path:"/",component:g,children:[{path:"",name:"start",component:L},{path:"tableLevel",name:"tableLevel",component:M},{path:"tableB30",name:"tableB30",component:he}]},{path:"/:pathMatch(.*)*",redirect:{name:"start"}}],ge=(0,c.aE)({history:(0,c.Bt)(),routes:me,scrollBehavior(){return{top:0}}}),ye=ge;(0,r.Ef)(i).use(ye).mount("#app")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,(()=>{var e=[];a.O=(t,r,s,o)=>{if(!r){var c=1/0;for(u=0;u<e.length;u++){for(var[r,s,o]=e[u],l=!0,n=0;n<r.length;n++)(!1&o||c>=o)&&Object.keys(a.O).every(e=>a.O[e](r[n]))?r.splice(n--,1):(l=!1,o<c&&(c=o));if(l){e.splice(u--,1);var i=s();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,s,o]}})(),(()=>{a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var s,o,[c,l,n]=r,i=0;if(c.some(t=>0!==e[t])){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(n)var u=n(a)}for(t&&t(r);i<c.length;i++)o=c[i],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self["webpackChunkpcs"]=self["webpackChunkpcs"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,[504],()=>a(215));r=a.O(r)})();
//# sourceMappingURL=app.88ef940e.js.map