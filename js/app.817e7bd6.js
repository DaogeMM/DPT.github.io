(()=>{"use strict";var e={44(e,t,r){var a=r(751),o=r(641),s=r(953),n=r(29);const c={__name:"App",setup(e){return(e,t)=>((0,o.uX)(),(0,o.Wv)((0,s.R1)(n.Tp)))}},l=c,u=l,i={class:"top-nav"},p={class:"nav-left"},d={class:"page-container"},v={__name:"Layout",setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",i,[(0,o.Lk)("div",p,[(0,o.Lk)("div",{class:"nav-item",onClick:t[0]||(t[0]=t=>e.$router.push({name:"start"}))}," 主页 "),(0,o.Lk)("div",{class:"nav-item",onClick:t[1]||(t[1]=t=>e.$router.push({name:"table"}))}," 定数表 ")])]),(0,o.Lk)("div",d,[(0,o.bF)((0,s.R1)(n.Tp))])],64))}};var f=r(262);const h=(0,f.A)(v,[["__scopeId","data-v-3397ff83"]]),m=h,b={class:"start-page"},g={class:"btn-group"};function y(e,t){return(0,o.uX)(),(0,o.CE)("div",b,[t[1]||(t[1]=(0,o.Lk)("div",{class:"title-group"},[(0,o.Lk)("h1",{class:"page-title"},"DP-Tool"),(0,o.Lk)("p",{class:"page-subtitle"}," 您的 Phigros 助手 ")],-1)),(0,o.Lk)("div",g,[(0,o.Lk)("button",{class:"start-btn",onClick:t[0]||(t[0]=t=>e.$router.push({name:"table"}))}," 查看定数表 ")])])}const k={},_=(0,f.A)(k,[["render",y],["__scopeId","data-v-3344c982"]]),L=_;var C=r(33);const E={class:"group-title"},O={__name:"levelGUI",props:{cardList:{type:Object,required:!0},columns:{type:Number,required:!0},gap:{type:Number,default:16},gridWidth:{type:[Number,String],default:1500}},setup(e){const t=e,r=(0,o.EW)(()=>({width:"number"===typeof t.gridWidth?`${t.gridWidth}px`:t.gridWidth,margin:"0 auto",boxSizing:"border-box"})),a=()=>({"--column-count":t.columns,"--gap-size":`${t.gap}px`,"--column-width":"calc((100% - (var(--column-count) - 1) * var(--gap-size)) / var(--column-count))"}),s=(0,o.EW)(()=>{const e=Object.entries(t.cardList),r=e.sort((e,t)=>{const r=Number(e[0]),a=Number(t[0]);return a-r});return r.map(([e,t])=>({key:e,value:t}))});return(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"card-container",style:(0,C.Tr)(r.value)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.value,({key:t,value:r},s)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"card-group"},[(0,o.Lk)("div",E,(0,C.v_)(Number(t).toFixed(1)),1),(0,o.Lk)("div",{class:"card-grid",style:(0,C.Tr)(a())},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r,(r,a)=>(0,o.RG)(e.$slots,"default",{key:a,cardData:r,index:a,groupKey:t})),128))],4)]))),128))],4))}},I=(0,f.A)(O,[["__scopeId","data-v-01ea6be3"]]),X=I,w={class:"chart-card"},T={class:"card-cover"},A=["src","alt"],j={class:"card-info"},F={__name:"levelCard",props:{chartInfo:{type:Array,required:!0}},setup(e){return(t,r)=>((0,o.uX)(),(0,o.CE)("div",w,[(0,o.Lk)("div",T,[(0,o.Lk)("img",{src:e.chartInfo[2],alt:e.chartInfo[0],class:"cover-img"},null,8,A)]),(0,o.Lk)("div",j,[(0,o.Lk)("div",{class:"difficulty-tag",style:(0,C.Tr)({backgroundColor:e.chartInfo[4]||"#cccccc"})},(0,C.v_)(e.chartInfo[3]),5)])]))}},$=(0,f.A)(F,[["__scopeId","data-v-6afeab2e"]]),x=$;function S(e,t,r,a,s,n){return(0,o.uX)(),(0,o.CE)("div")}var W=r(335);const N={name:"LevelGet",methods:{async getLevel(){const e="",t=`${e}/assets`,r=`${e}/files`,a=`${r}/infos/difficulty.tsv`,o={EZ:"#0D9A28",HD:"#0175B8",IN:"#CF1313",AT:"#383838",Legacy:"#383838",SP:"#383838"};try{const e=await W.A.get(a),r=e.data,s=r.split("\n").filter(e=>e.trim()),n=[];for(const t of s){const e=t.split("\t").map(e=>e.trim());e&&0!==e.length&&(e[0]&&!e[0].endsWith(".0")||(n.push([e[0],e[1],"EZ"]),e.length>2&&(n.push([e[0],e[2],"HD"]),n.push([e[0],e[3],"IN"])),e.length>4&&parseFloat(e[4])>0&&n.push([e[0],e[4],"AT"])))}const c=t;for(const t of n)t[1]=Math.round(10*parseFloat(t[1]))/10,t.push(t[2]),t.push(o[t[2]]),t[2]=`${c}/illLow/${t[0]}.png`;const l={};for(const t of n){const e=t[1];l[e]||(l[e]=[]),l[e].push(t)}const u={};for(const[t,a]of Object.entries(l)){const e=a.sort((e,t)=>e[0].localeCompare(t[0]));u[t]=e}return u}catch(s){return console.error("获取关卡数据失败：",s),console.error("实际请求的TSV文件路径：",a),{}}}}},K=(0,f.A)(N,[["render",S]]),P=K,D={class:"table-container"},R={key:0,class:"empty-tip"},M={key:1,class:"empty-tip error"},q={key:2,class:"level-list"},z={key:3,class:"empty-tip"},B={__name:"tableWeb",setup(e){const t=(0,s.KR)(null),r=(0,s.KR)(!0),a=(0,s.KR)("");return(0,o.sV)(async()=>{try{const e=await P.methods.getLevel();t.value=e,a.value=""}catch(e){console.error("定数表加载失败：",e),a.value="定数表加载失败，请刷新重试"}finally{r.value=!1}}),(e,s)=>((0,o.uX)(),(0,o.CE)("div",D,[r.value?((0,o.uX)(),(0,o.CE)("div",R," 正在加载定数表 ")):a.value?((0,o.uX)(),(0,o.CE)("div",M,(0,C.v_)(a.value),1)):t.value?((0,o.uX)(),(0,o.CE)("div",q,[(0,o.bF)(X,{"card-list":t.value,columns:5,gap:20},{default:(0,o.k6)(({cardData:e})=>[(0,o.bF)(x,{"chart-info":e},null,8,["chart-info"])]),_:1},8,["card-list"])])):((0,o.uX)(),(0,o.CE)("div",z," 暂无定数表数据 "))]))}},G=(0,f.A)(B,[["__scopeId","data-v-75605076"]]),H=G,V=[{path:"/",component:m,children:[{path:"",name:"start",component:L},{path:"table",name:"table",component:H}]},{path:"/:pathMatch(.*)*",redirect:{name:"start"}}],Z=(0,n.aE)({history:(0,n.Bt)(),routes:V,scrollBehavior(){return{top:0}}}),U=Z;(0,a.Ef)(u).use(U).mount("#app")}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,r),s.exports}r.m=e,(()=>{var e=[];r.O=(t,a,o,s)=>{if(!a){var n=1/0;for(i=0;i<e.length;i++){for(var[a,o,s]=e[i],c=!0,l=0;l<a.length;l++)(!1&s||n>=s)&&Object.keys(r.O).every(e=>r.O[e](a[l]))?a.splice(l--,1):(c=!1,s<n&&(n=s));if(c){e.splice(i--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[a,o,s]}})(),(()=>{r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var o,s,[n,c,l]=a,u=0;if(n.some(t=>0!==e[t])){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(l)var i=l(r)}for(t&&t(a);u<n.length;u++)s=n[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(i)},a=self["webpackChunkpcs"]=self["webpackChunkpcs"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=r.O(void 0,[504],()=>r(44));a=r.O(a)})();
//# sourceMappingURL=app.817e7bd6.js.map